<%- include('../../partials/head') %>

<body class="bg-zinc-950 relative items-center h-full">
    <div class="w-screen overflow-hidden">
        <div class="antialiased">
            <%- include('../../partials/nav') %>
            <%- include('../../partials/aside') %>
            <main
            class="p-4 md:ml-64 z-20 -mt-[58px] max-w-full pt-40 md:pt-20 max-h-full min-h-screen shadow-2xl shadow-black backdrop-blur-sm">
            <div id="content">
                <img src="https://cdn.holaclientx.tech/logo.png" alt="lo" onload="countries(), serverCreate()" class="w-0 h-0">
                <div class="flex justify-between items-center w-full">
                    <div class="flex space-x-4 items-center">
                        <div
                            class="bg-zinc-800/50 h-max w-max group-hover:bg-zinc-900/50 group-hover:border-zinc-700 border border-zinc-800/80 backdrop-blur-3xl shadow text-gray-400 rounded-xl p-3">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
                                <path d="M4.5 3.75a3 3 0 0 0-3 3v.75h21v-.75a3 3 0 0 0-3-3h-15Z" />
                                <path fill-rule="evenodd" d="M22.5 9.75h-21v7.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3v-7.5Zm-18 3.75a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5h-6a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Z" clip-rule="evenodd" />
                            </svg>
                        </div>
                        <div class="flex flex-col justify-between w-full">
                            <h1 class="text-gray-200 font-semibold text-xl">Checkout a package</h1>
                            <span class="text-gray-300 text-md">Second last stage of buying your package.</span>
                        </div>
                    </div>
                </div>
                <% if (data.price.type !== "coins") { %>
                    <div class="w-full mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="w-full md:order-1 order-2 p-4 rounded-xl bg-zinc-900/50 border border-zinc-800/80 h-max">
                            <h1 class="text-gray-200 text-xl"><span class="text-gray-400">Product:</span> <%= data.name %></h1>
                            <div class="w-full rounded-full mt-4 bg-zinc-800/80 h-0.5"></div>
                            <div class="relative w-full mt-2">
                                <div class="relative text-gray-400 w-max capitalize text-xs rounded-full px-4 py-2 bg-zinc-900 border border-zinc-800/80">
                                    Resources
                                </div>
                                <div class="mt-2 grid grid-cols-2 md:grid-cols-7">
                                    <div class="flex flex-col items-center justify-center">
                                        <h1 class="text-xl text-zinc-300"><%= data.resources.memory || "0" %> GB</h1>
                                        <span class="text-xs text-zinc-400">Memory</span>
                                    </div>
                                    <div class="flex flex-col items-center justify-center">
                                        <h1 class="text-xl text-zinc-300"><%= data.resources.disk || "0" %> GB</h1>
                                        <span class="text-xs text-zinc-400">Disk</span>
                                    </div>
                                    <div class="flex flex-col items-center justify-center">
                                        <h1 class="text-xl text-zinc-300"><%= data.resources.cpu || "0" %> v</h1>
                                        <span class="text-xs text-zinc-400">CPU</span>
                                    </div>
                                    <div class="flex flex-col items-center justify-center">
                                        <h1 class="text-xl text-zinc-300"><%= data.resources.allocations || "0" %> u</h1>
                                        <span class="text-xs text-zinc-400">Allocations</span>
                                    </div>
                                    <div class="flex flex-col items-center justify-center">
                                        <h1 class="text-xl text-zinc-300"><%= data.resources.databases || "0" %> u</h1>
                                        <span class="text-xs text-zinc-400">Databases</span>
                                    </div>
                                    <div class="flex flex-col items-center justify-center">
                                        <h1 class="text-xl text-zinc-300"><%= data.resources.backups || "0" %> u</h1>
                                        <span class="text-xs text-zinc-400">Backups</span>
                                    </div>
                                    <div class="flex flex-col items-center justify-center">
                                        <h1 class="text-xl text-zinc-300"><%= data.coins || "0" %></h1>
                                        <span class="text-xs text-zinc-400">Coins</span>
                                    </div>
                                </div>
                                <% if (data.type === "server") { %>
                                    <div class="relative mt-4 text-gray-400 w-max capitalize text-xs rounded-full px-4 py-2 bg-zinc-900 border border-zinc-800/80">
                                        Nodes
                                    </div>
                                    <div id="nodesList" class="mt-2 grid grid-cols-2 md:grid-cols-3 gap-4"></div>
                                    <div class="relative mt-4 text-gray-400 w-max capitalize text-xs rounded-full px-4 py-2 bg-zinc-900 border border-zinc-800/80">
                                        Softwares
                                    </div>
                                    <div id="eggsList" class="mt-2 grid grid-cols-2 md:grid-cols-3 gap-4 text-xs"></div>
                                <% } %>
                                <div class="relative mt-4 text-gray-400 w-max capitalize text-xs rounded-full px-4 py-2 bg-zinc-900 border border-zinc-800/80">
                                    Due amount
                                </div>
                                <div class="mt-2 w-full px-2">
                                    <h1 class="text-lg text-gray-400">Total: <span class="text-gray-300"><%= data.price.amount %></span> USD</h1>
                                    <h1 class="text-lg text-gray-400">Discount: <span class="text-gray-300">0</span> USD</h1>
                                    <div class="my-2 w-full h-0.5 rounded-full bg-zinc-800/80"></div>
                                    <h1 class="text-2xl text-gray-400">Due: <span class="text-gray-300"><%= data.price.amount %>.5</span> USD</h1>
                                </div>
                                <button id="checkoutButton" onclick="checkout('<%= data %>')" class="w-full mt-4 rounded-xl text-gray-300 bg-zinc-900/50 border border-zinc-800/80 py-2">
                                    Continue
                                </button>
                            </div>
                        </div>
                        <div class="w-full md:order-2 order-1">
                            <div class="w-full p-4 rounded-xl bg-zinc-900/50 border border-zinc-800/80 h-max">
                                <h1 class="text-gray-200 text-xl">Billing:</h1>
                                <div class="grid grid-cols-2 md:grid-cols-3 gap-4 mt-4 space-y-2">
                                    <input id="Name" placeholder="Full legal name" type="text" class="w-full bg-transparent placeholder-gray-400 outline-none col-span-3 border-b border-zinc-800/80 text-gray-300">
                                    <input id="address_0" placeholder="Address line 1" type="text" class="w-full bg-transparent placeholder-gray-400 outline-none col-span-3 border-b border-zinc-800/80 text-gray-300">
                                    <input id="address_1" placeholder="Address line 2 (Optional)" type="text" class="w-full bg-transparent placeholder-gray-400 outline-none col-span-3 border-b border-zinc-800/80 text-gray-300">
                                    <select id="countriesList" class="w-full bg-zinc-950 col-span-3 bg-clip-text placeholder-gray-400 outline-none border-b border-zinc-800/80 text-gray-300"></select>
                                    <input id="city" placeholder="City" type="text" class="w-full bg-transparent placeholder-gray-400 outline-none border-b border-zinc-800/80 text-gray-300">
                                    <input id="state" placeholder="State/Region" type="text" class="w-full bg-transparent placeholder-gray-400 outline-none border-b border-zinc-800/80 text-gray-300">
                                    <input id="zip" placeholder="Pincode" type="text" class="w-full bg-transparent placeholder-gray-400 outline-none border-b border-zinc-800/80 text-gray-300">
                                </div>
                               <div class="my-4">
                                <span class="mt-3 text-gray-400 text-sm">*Billing address is only stored on the invoice due to privacy policy.</span>
                               </div>
                               <div class="border border-s-0 border-zinc-800/80 py-2 flex items-center space-x-2 text-gray-400">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
                                    <path d="M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z" />
                                    <path d="M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z" />
                                  </svg>
                                    <span class="text-gray-300"><%= userinfo.email %></span>
                               </div>
                               <div class="mt-4">
                                <h1 class="text-gray-200 text-xl">Pay with:</h1>
                                <div id="paymentGateways" class="grid grid-cols-4 mt-4 gap-4">
                                    
                                </div>
                               </div>
                            </div>
                            <div class="w-full p-2 bg-zinc-900/50 border border-zinc-800/80 text-gray-400 rounded-xl mt-4">
                                Invoice will be created shortly after we confirm your payment.
                            </div>
                        </div>
                    </div>
                <% } else { %>
                    <div class="mt-40 md:mt-56 lg:mt-72 h-full flex flex-col items-center justify-center">
                        <h1 class="text-gray-300 text-xl">Confirm purchase?</h1>
                        <p class="text-gray-400 text-center">Products with coins as payment method doesn't require billing details.</p>
                        <button onclick="checkout('<%= data %>')" class="px-10 py-2 mt-2 rounded-full text-gray-200 bg-zinc-900/50 border border-zinc-800/80">
                            Confirm
                        </button>
                    </div>
                <% } %>
            </div>
        </main>
            <%- include('../../partials/footer') %>
        </div>
    </div>
    </div>
</body>
</html>