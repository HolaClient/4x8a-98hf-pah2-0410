/**
 *--------------------------------------------------------------------------
 *  _    _       _        _____ _ _            _  __   __
 * | |  | |     | |      / ____| (_)          | | \ \ / /
 * | |__| | ___ | | __ _| |    | |_  ___ _ __ | |_ \ V / 
 * |  __  |/ _ \| |/ _` | |    | | |/ _ \ '_ \| __| > <  
 * | |  | | (_) | | (_| | |____| | |  __/ | | | |_ / . \ 
 * |_|  |_|\___/|_|\__,_|\_____|_|_|\___|_| |_|\__/_/ \_\
 *--------------------------------------------------------------------------
 *
 * https://holaclientx.tech
 * https://github.com/HolaClient/X
 * https://discord.gg/CvqRH9TrYK
 * 
 * @author CR072 <crazymath072.tech>
 * @copyright 2022-2024 HolaClient
 * @version 1
 *
 *--------------------------------------------------------------------------
 * logs.mjs - Application logs handler file.
 *--------------------------------------------------------------------------
*/
/**
 *--------------------------------------------------------------------------
 * importing modules
 *--------------------------------------------------------------------------
*/
import fs from 'fs';
import path from 'path';
import { Console } from 'console';
/**
 *--------------------------------------------------------------------------
 * The actual handler code.
 *--------------------------------------------------------------------------
*/
const a = './storage/logs/dashboard';
const b = `log_${new Date().toISOString().replace(/[:.]/g, '')}.txt`;
const c = path.join(a, b);
const d = fs.createWriteStream(c, { flags: 'a' });
d.write(`==========LOG ${new Date().toISOString().replace(/[:.]/g, '')}==============\n`);
const e = new Console(process.stdout, d);
global.console = e;
const f = console.log;
console.log = (...g) => {
  f(...g);
  d.write(g.join(' ') + '\n');
};
/**
 *--------------------------------------------------------------------------
 * End of file
 *--------------------------------------------------------------------------
*/